- @use_case.ppee_test.principal_examples.each_with_index do |principal, index|
  - summary = "#{@use_case.name} [PRI ##{index + 1}]"
  - summary << " - #{principal.aliases}" unless principal.aliases.blank?
  %testcase{:name => summary}
    %node_order
      = "<![CDATA[0]]>"
    %externalid
      = "<![CDATA[1]]>"
    %version
      = "<![CDATA[2]]>"
    %summary
      = "<![CDATA[]]>"
    %preconditions
      = '<![CDATA['
      %ul
        - principal.preconditions.each do |precondition|
          %li= precondition
      = ']]>'
    %steps
      %step
        %step_number
          = "<![CDATA[1]]>"
        %actions
          = '<![CDATA['
          %ul
            - principal.actions.each do |action|
              %li= action
          = ']]>'
        %expectedresults
          = '<![CDATA['
          %ul
            - principal.postconditions.each do |postcondition|
              %li= postcondition
          = ']]>'
        %execution_type
          = "<![CDATA[1]]>"
- @use_case.ppee_test.extensions_examples.each_with_index do |extension, index|
  - summary = "#{@use_case.name} [ALT ##{index + 1}]"
  - summary << " - #{extension.aliases}" unless extension.aliases.blank?
  %testcase{:name => summary}
    %node_order
      = "<![CDATA[0]]>"
    %externalid
      = "<![CDATA[1]]>"
    %version
      = "<![CDATA[2]]>"
    %summary
      = "<![CDATA[]]>"
    %preconditions
      = '<![CDATA['
      %ul
        - extension.inherited_preconditions.each do |precondition|
          %li= precondition
        - extension.preconditions.each do |precondition|
          %li
            %strong= precondition
      = ']]>'
    %steps
      %step
        %step_number
          = "<![CDATA[1]]>"
        %actions
          = '<![CDATA['
          %ul
            - extension.first_inherited_actions.each do |action|
              %li= action
            - extension.specific_actions.each do |action|
              %li
                %strong= action
            - extension.last_inherited_actions.each do |action|
              %li= action
          = ']]>'
        %expectedresults
          = '<![CDATA['
          %ul
            - extension.inherited_postconditions.each do |postcondition|
              %li= postcondition
            - extension.specific_postconditions.each do |postcondition|
              %li
                %strong= postcondition
          = ']]>'
        %execution_type
          = "<![CDATA[1]]>"
